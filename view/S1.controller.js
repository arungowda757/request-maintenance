/*
 * Copyright (C) 2009-2019 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["i2d/pp/mrpcockpit/reuse/s1/view/S1parent","i2d/pp/prdorderissue/monitor/s1/util/Formatter"],function(S,F){"use strict";return S.extend("i2d.pp.prdorderissue.monitor.s1.view.S1",{onInit:function(){this.masterTitle="FULLSCREEN_TITLE";this.sViewNumber="v312";var f=[];var n={listKey:"MfgOrderProgressStatus",active:true,selectedItemKeys:[]};f.push(n);n={listKey:"LatenessDurationInWorkDays",active:true,selectedItemKeys:[]};f.push(n);n={listKey:"MaximumDelayInWorkDays",active:true,selectedItemKeys:[]};f.push(n);n={listKey:"DurnPlndStatusToTodayInWrkdays",active:true,selectedItemKeys:[]};f.push(n);this.oDefaultVariantData={MaterialShortageDefinitionID:"",TimeHorizon:"7",FacetFilterState:f,TableState:{},SortKey:"",SortDescending:false,FilterBarStateAndData:[]};S.prototype.onInit.call(this);this.oResourceBundle=this.getOwnerComponent().getModel("i18n").getResourceBundle();F.oResourceBundle=this.oResourceBundle;this.aDefaultSorting=new Array();this.aDefaultSorting[0]=new Array("MaterialExternalID",3);this.aDefaultSorting[1]=new Array("MaterialName");this.aDefaultSorting[2]=new Array("ManufacturingOrderTypeName");this.aDefaultSorting[3]=new Array("MRPElementOpenQuantity");this.aDefaultSorting[4]=new Array("LateSupplyQuantity");this.aDefaultSorting[5]=new Array("MRPElement",4);this.aDefaultSorting[6]=new Array("LateSupplyEarliestDemandDate");this.aDefaultSorting[7]=new Array("LatenessDurationInWorkDays");this.aDefaultSorting[8]=new Array("MfgOrderPlannedStartDate",1);this.aDefaultSorting[9]=new Array("MfgOrderPlannedEndDate",2);this.aDefaultSorting[10]=new Array("MRPController");this.aDefaultSorting[11]=new Array("MRPPlant");this.aDefaultSorting[12]=new Array("MRPArea");this.aDefaultSorting[13]=new Array("NumberOfComponentsWithProblems");this.aDefaultSorting[14]=new Array("MaximumDelayInWorkDays");this.aDefaultSorting[15]=new Array("MfgOrderProgressStatusName");this.aDefaultSorting[16]=new Array("MfgOrderProgressNextStatusName");this.aDefaultSorting[17]=new Array("DurationToNextStatusInDays");this.aDefaultSorting[18]=new Array("DurationToReleaseInWorkdays");this.aDefaultSorting[19]=new Array("DurationToStartInWorkdays");this.aDefaultSorting[20]=new Array("DurationToFinishInWorkdays");this.aDefaultSorting[21]=new Array("DurationToGRInWorkdays");this.aDefaultSorting[22]=new Array("DurnPlndStatusToTodayInWrkdays");},getViewNumber:function(){return this.sViewNumber;},getTableId:function(){return this.sViewNumber+"Table";},getShortageDefintionType:function(){return 1;},getComponentName:function(){return"i2d.pp.prdorderissue.monitor.s1";},getMasterEntity:function(){return"/ManufacturingOrders";},getMasterServiceEntity:function(){return"ManufacturingOrder";},getShortageEntitySetName:function(){return"MaterialShortageDefinitions";},getFilterPropertyName:function(){return"MaterialShortageDefinitionID";},getSelectFields:function(){},getSpecificAppFilter:function(){return null;},getSingleSelectWithMulti:function(){return["MfgOrderProgressStatus"];},getDefaultFilters:function(){return["MfgOrderProgressStatus","LatenessDurationInWorkDays","MaximumDelayInWorkDays","DurnPlndStatusToTodayInWrkdays"];},getInitialDefaultFilters:function(){if(this.oViewState.FilterBarStateAndData.length===0){var f=[];f.push(new sap.ui.model.Filter("LatenessDurationInWorkDays",sap.ui.model.FilterOperator.EQ,this.getDefaultFilterValue()));f.push(new sap.ui.model.Filter("MaximumDelayInWorkDays",sap.ui.model.FilterOperator.EQ,this.getDefaultFilterValue()));f.push(new sap.ui.model.Filter("DurnPlndStatusToTodayInWrkdays",sap.ui.model.FilterOperator.EQ,this.getDefaultFilterValue()));return f;}},getDefaultFilterValue:function(){return"-999999";},getSingleSelectFacetFilter:function(){return["MfgOrderProgressStatus","MaximumDelayInWorkDays","LatenessDurationInWorkDays","DurationToReleaseInWorkdays","DurationToNextStatusInWorkDays","DurationToStartInWorkdays","DurationToFinishInWorkdays","DurationToGRInWorkdays","DurnPlndStatusToTodayInWrkdays"];},getFacetFilterDefaults:function(){return["MfgOrderProgressStatus","MaximumDelayInWorkDays","MaterialID","ManufacturingOrderType","ProductionVersion","ProductionSupervisor","ProductionLine","MRPController","MRPPlant","MRPArea","MfgOrderProgressNextStatus","DurationToReleaseInWorkdays","DurationToGRInWorkdays","MfgOrderProblemCategory","LatenessDurationInWorkDays","DurnPlndStatusToTodayInWrkdays","DurationToNextStatusInWorkDays","DurationToStartInWorkdays","DurationToFinishInWorkdays","MRPPlanningSegmentNumber","MRPElement","MaterialName"];},getFacetFilterType:function(){return"5";},getInitialSelectFields:function(){var m=this.getMandatorySelectFields();var s=this.getBaseSelectFields();var a=m.concat(s);return a.join(",");},getMandatorySelectFields:function(){return new Array("MaterialExternalID","MaterialName","MfgOrderProblemCategory","MRPElementOpenQuantity","LatenessDurationInWorkDays","MfgOrderPlannedStartDate","MfgOrderPlannedEndDate","MfgOrderProgressStatus","MfgOrderProgressStatusName","DurationToNextStatusInDays","NumberOfComponentsWithProblems","MaximumDelayInWorkDays","DurnPlndStatusToTodayInWrkdays");},getBaseSelectFields:function(){var s;switch(this.getServiceSchemaVersion()){case 1:case 2:case 3:s=new Array("DynamicHorizonCode","MRPPlanningSegmentNumber","MRPPlanningSegmentType","MaterialShortageDefinitionID","ComponentShortageDefinitionID","MRPPlant","MRPArea","MaterialID","MRPElementCategory","MRPController","UnitOfMeasureTechnicalName","TargetQuantityUnitDcmls","LateSupplyEarliestDemandDate","MRPElementCategory","MRPElement");if(this.extHookGetBaseSelectFields){this.extHookGetBaseSelectFields(s);}return s;case 4:case 40:case 99:case 101:case 140:s=new Array("DynamicHorizonCode","MRPPlanningSegmentNumber","MRPPlanningSegmentType","MaterialShortageDefinitionID","ComponentShortageDefinitionID","MRPPlant","MRPArea","MaterialID","MRPElementCategory","MRPController","UnitOfMeasureTechnicalName","TargetQuantityUnitDcmls","LateSupplyEarliestDemandDate","MRPElementCategory","MRPElement","UnitOfMeasureCommercialName");if(this.extHookGetBaseSelectFields){this.extHookGetBaseSelectFields(s);}return s;default:s=new Array("DynamicHorizonCode","MRPPlanningSegmentNumber","MRPPlanningSegmentType","MaterialShortageDefinitionID","ComponentShortageDefinitionID","MRPPlant","MRPArea","MaterialID","MRPElementCategory","MRPController","UnitOfMeasureTechnicalName","TargetQuantityUnitDcmls","LateSupplyEarliestDemandDate","MRPElementCategory","MRPElement","UnitOfMeasureCommercialName","TargetQuantityUnitDisplayDcmls");if(this.extHookGetBaseSelectFields){this.extHookGetBaseSelectFields(s);}return s;}},getExpandNavigationProperty:function(){return"ManufacturingOrderMilestones";},getExpandEntityName:function(){return"ManufacturingOrderMilestone";},getVariantContainerPrefix:function(){if(this.sOrderCategory){if(this.sOrderCategory===i2d.pp.mrpcockpit.reuse.s1.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRDORD){return"MRPProductionOrderItem";}else if(this.sOrderCategory===i2d.pp.mrpcockpit.reuse.s1.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRCORD){return"MRPProcessOrderItem";}}else{return"MRPProductionOrderItem";}},getObjectHeaderTitle:function(){if(this.sOrderCategory){if(this.sOrderCategory===i2d.pp.mrpcockpit.reuse.s1.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRDORD){return this.oResourceBundle.getText("ObjectHeaderTitle");}else if(this.sOrderCategory===i2d.pp.mrpcockpit.reuse.s1.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRCORD){return this.oResourceBundle.getText("ObjectHeaderTitle_PROC");}}else{return this.oResourceBundle.getText("ObjectHeaderTitle");}},getNumberUnit:function(){if(this.sOrderCategory){if(this.sOrderCategory===i2d.pp.mrpcockpit.reuse.s1.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRDORD){return this.oResourceBundle.getText("NumberUnit");}else if(this.sOrderCategory===i2d.pp.mrpcockpit.reuse.s1.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRCORD){return this.oResourceBundle.getText("NumberUnit_PROC");}}else{return this.oResourceBundle.getText("NumberUnit");}},getMonitorAppIcon:function(){return"sap-icon://Fiori5/F0266";},getManageAppIcon:function(){return"sap-icon://Fiori5/F0273";},getNavigationTarget:function(){return{semanticObject:"MRPProductionOrderItem",action:"manage"};},getNavigationParams:function(){var s=this.getView().byId(this.getTableId()).getSelectedItems();var m=[];var M=[];var a=[];var b=[];var c=[];var d=[];var e=[];var o={};for(var i=0;i<s.length;i++){o=s[i].getBindingContext().getObject();m.push(o.MaterialID);M.push(o.MRPArea);e.push(o.MRPPlant);a.push(o.MRPElement);b.push(o.MRPElementCategory);c.push(o.MRPPlanningSegmentNumber);d.push(o.MRPPlanningSegmentType);}var p={"MaterialShortageDefinitionID":s[0].getBindingContext().getProperty("MaterialShortageDefinitionID"),"ComponentShortageDefinitionID":s[0].getBindingContext().getProperty("ComponentShortageDefinitionID"),"MaterialID":m,"MRPArea":M,"MRPElement":a,"MRPElementCategory":b,"MRPPlanningSegmentNumber":c,"MRPPlanningSegmentType":d,"MRPPlant":e,"OrderCategory":this.sOrderCategory};return p;},_changeAppName:function(r){if(r===i2d.pp.mrpcockpit.reuse.s1.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRCORD){this.masterTitle="FULLSCREEN_TITLE_PROC";if(this.getView().byId("ObjectHeader")){this.getView().byId("ObjectHeader").setNumberUnit(this.oResourceBundle.getText("NumberUnit_PROC"));}else{this.getView().byId("ToolBarCount").setText(this.oResourceBundle.getText("NumberUnit_PROC"));}}else{this.masterTitle="FULLSCREEN_TITLE";if(this.getView().byId("ObjectHeader")){this.getView().byId("ObjectHeader").setNumberUnit(this.oResourceBundle.getText("NumberUnit"));}else{this.getView().byId("ToolBarCount").setText(this.oResourceBundle.getText("NumberUnit"));}}this.getView().byId("page").setTitle(this.oResourceBundle.getText(this.masterTitle));},onNavigationButtonPressed:function(){S.prototype.onNavigationButtonPressed.call(this);},onHandleBack:function(){S.prototype.navBack.call(this);},getMonitorAppTypeTrue:function(){return true;},getNumericFilterFields:function(){return["MRPElementOpenQuantity","MfgOrderPlannedTotalQty","LateSupplyQuantity","NumberOfComponentsWithProblems"];},getInputFilterList:function(){return["MaterialID","MRPPlant","MRPArea","MRPElement","ProductionVersion"];}});});
