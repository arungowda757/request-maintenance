/*
 * Copyright (C) 2009-2019 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","i2d/pp/prdorderissue/monitor/s1/model/models","sap/ui/core/routing/Router","sap/ui/core/routing/History"],function(U,D,m,R,H){"use strict";return U.extend("i2d.pp.prdorderissue.monitor.s1.Component",{metadata:{"manifest":"json"},createContent:function(){jQuery.sap.require("i2d.pp.mrpcockpit.reuse.s1.util.Lessifier");i2d.pp.mrpcockpit.reuse.s1.util.Lessifier.lessifyCSSx10();this.sStateID=jQuery.sap.uid();if(!sap.ui.core.routing.HashChanger.getInstance().getHash()){sap.ui.core.routing.HashChanger.getInstance().replaceHash(this.sStateID);}var v={component:this};return sap.ui.view({viewName:"i2d.pp.prdorderissue.monitor.s1.Main",type:sap.ui.core.mvc.ViewType.XML,viewData:v});},init:function(){sap.ui.core.UIComponent.prototype.init.apply(this,arguments);this.setModel(m.createDeviceModel(),"device");this.getRouter().attachRouteMatched(this._handleRouteMatched);this.getModel().metadataLoaded().then(function(){this.getRouter().initialize();}.bind(this));},_handleRouteMatched:function(e){var a=e.getParameter("targetControl");if(!(a instanceof sap.m.NavContainer||a instanceof sap.m.SplitContainer)){return;}if(sap.m.InstanceManager.hasOpenPopover()){sap.m.InstanceManager.closeAllPopovers();}if(sap.m.InstanceManager.hasOpenDialog()){sap.m.InstanceManager.closeAllDialogs();}var v=e.getParameter("view");var V=e.getParameter("config").viewLevel;var n=(a instanceof sap.m.SplitContainer)&&!!a.getMasterPage(v.getId());var h=sap.ui.core.routing.History.getInstance();var b;if(V===undefined||this._iCurrentViewLevel===undefined||V===this._iCurrentViewLevel){b=h.getDirection()==="Backwards";}else{b=(V!==undefined&&(V<this._iCurrentViewLevel));}if(b){var p=a.getPreviousPage(n);if(!p||p.getId()!==v.getId()){a.insertPreviousPage(v.getId());}a.backToPage(v.getId());}else{a.to(v.getId());}this._iCurrentViewLevel=V;}});});
